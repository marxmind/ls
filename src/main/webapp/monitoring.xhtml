<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

    <h:head>
    	<link rel="shortcut icon" type="image/x-icon" href="#{resource['favicon.ico']}" />
    </h:head>

<style>


</style>


    <h:body>
        
        
    <div class="card">
    <h:form prependId="false" id="formId">
    	<p:growl id="msg" showDetail="true" life="2000" />
        <p:tabView prependId="false">
    		
    		<p:tab title="Collection Deposit">
    			
    			<p:toolbar id="tbCollection">
	    		<f:facet name="left">
	    			<div class="ui-inputgroup">
	    			
	    			<p:selectCheckboxMenu value="#{graphIssuanceBean.cashYearSelected}" label="Select Year" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 20em">
						<f:selectItems value="#{graphIssuanceBean.cashYears}" />
					</p:selectCheckboxMenu>
					<p:selectOneMenu value="#{graphIssuanceBean.fundId}" label="Select Forms" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 30em">
						<f:selectItems value="#{graphIssuanceBean.funds}" />
					</p:selectOneMenu>
					<p:commandButton icon="pi pi-search" update="graphCollBardId" actionListener="#{graphIssuanceBean.loadCashDeposit}"/>
	    			
	    			</div>
	    		</f:facet>
	    		<f:facet name="right"/>
				</p:toolbar> 
				
				<p:barChart id="graphCollBardId" model="#{graphIssuanceBean.barModel4}" style="width: 100%; height: 500px;"/>
    			
    		</p:tab>
            <p:tab title="Reported Collection">
    		
    		<p:toolbar id="tbGraph">
    		<f:facet name="left">
    			<div class="ui-inputgroup">
    			
    			<p:selectCheckboxMenu id="grapYearId" value="#{graphIssuanceBean.selectedYear}" label="Select Year" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 20em">
					<f:selectItems value="#{graphIssuanceBean.years}" />
				</p:selectCheckboxMenu>
				<p:selectCheckboxMenu id="grapCollectorId" value="#{graphIssuanceBean.selectedCollector}" label="Select Collector" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 50em">
					<f:selectItems value="#{graphIssuanceBean.collectors}" />
				</p:selectCheckboxMenu>
				<p:selectOneMenu id="grapFormId" value="#{graphIssuanceBean.selectedForm}" label="Select Forms" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 30em">
					<f:selectItems value="#{graphIssuanceBean.forms}" />
				</p:selectOneMenu>
				<p:commandButton icon="pi pi-search" update="graphLineId graphBardId" actionListener="#{graphIssuanceBean.selectedGraph}"/>
    			
    			</div>
    		</f:facet>
    		<f:facet name="right"/>
			</p:toolbar> 
    		
    		
    		
			
				
			<p:tabView prependId="false" cache="true" id="tabRevenue">
    		
    		<p:ajax event="tabChange" listener="#{graphIssuanceBean.onChange}" update="graphLineId graphBardId"/>
    		
	    		<p:tab title="Line Graph">
	    			<p:lineChart id="graphLineId" model="#{graphIssuanceBean.lineModel}" style="width: 100%; height: 500px;"/>
	    		</p:tab>
	    		
	    		<p:tab title="Bar Graph">
	    			<p:barChart id="graphBardId" model="#{graphIssuanceBean.barModel2}" style="width: 100%; height: 500px;">
	            		<p:ajax event="itemSelect" listener="#{graphIssuanceBean.itemSelect}" update="msg"/>
	        		</p:barChart>
	    		</p:tab>
    			
    			
    			
    		</p:tabView>	
	        
	        </p:tab>
	        
	        
	        <p:tab title="Per Account Collection">
	        	
	        <p:toolbar id="tbGraphRun">
    		<f:facet name="left">
    			<div class="ui-inputgroup">
    			
    			<p:selectCheckboxMenu id="grapAccountYearId" value="#{graphIssuanceBean.accountSelectedYear}" label="Select Year" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 20em">
					<f:selectItems value="#{graphIssuanceBean.accountYears}" />
				</p:selectCheckboxMenu>
				<p:selectCheckboxMenu id="grapAccountId" value="#{graphIssuanceBean.accountSelected}" label="Select Account" updateLabel="true" filterMatchMode="contains" filter="true" style="width: 50em">
					<f:selectItems value="#{graphIssuanceBean.accounts}" />
				</p:selectCheckboxMenu>
				<h5>Display Months</h5>
        		<p:toggleSwitch value="#{graphIssuanceBean.includeMonths}" onIcon="pi pi-check" offIcon="pi pi-times" />
				<p:commandButton icon="pi pi-search" update="graphAccBardId" actionListener="#{graphIssuanceBean.reportAcc}"/>
				
    			</div>
    			
    			<p:barChart id="graphAccBardId" model="#{graphIssuanceBean.barModel3}" style="width: 200%; height: 1000px;"/>
    			
    		</f:facet>
    		<f:facet name="right"/>
			</p:toolbar> 
	        	
	        	
	        </p:tab>
	        
	        </p:tabView>       
    </h:form>
</div>
        
    </h:body>
</html>