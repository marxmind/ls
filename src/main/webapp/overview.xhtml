<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="jakarta.faces.facelets">

    <h:head>
    	<link rel="shortcut icon" type="image/x-icon" href="#{resource['favicon.ico']}" />
    	
    	<f:facet name="middle">
    		<h:outputStylesheet library="webjars" name="primeflex/3.3.0/primeflex.min.css" />
    		<h:outputStylesheet name="css/bodyconf.css"/>
    	</f:facet>
    	
    	
    	
    </h:head>
	
	<style>
    
    
    h2 {
	  background-color: black;
	  color: white;
	  text-align: center;
	}
	.div-table
    {
      display: table;         
	  width: auto;         
	  background-color: #eee;         
	  border: 1px solid #666666;         
	  border-spacing: 5px; /* cellspacing:poor IE support for  this */
    }

    .div-table-row
    {
      display: table-row;
	  width: auto;
	  clear: both;
    }

    .div-table-col
    {
      float: left; /* fix for  buggy browsers */
	  display: table-column;         
	  width: 200px;         
	  background-color: #ccc;
    }
    
    .ui-filter-column .ui-column-customfilter .custom-filter {
        width: 100%;
        box-sizing: border-box;
    }
    
</style>


    <h:body>
 <h:form prependId="false" id="formId">  
 	<div id="onProgId" style="display:none; z-index: 9999999999;">
    	<p:progressBar id="progressBarIndecator" style="height:10px" mode="indeterminate"/>
    </div>     
 	
    <p:growl id="msg" showDetail="true" life="2000" />
    
    
    <p:overlayPanel widgetVar="productOP" style="width:400px" dismissable="true" showCloseIcon="true" dynamic="true" modal="true">
   		<p:dataTable id="pyId" var="py" value="#{ovBean.paymentViews}">
   		
   			<f:facet name="header">
                <p:outputLabel value="#{ovBean.labelNamePayment}" />
            </f:facet>
   		         
            <p:column headerText="Name">
                <h:outputText value="#{py.f1}"/>
            </p:column>
            <p:column headerText="Amount">
                <h:outputText value="#{py.f2}"/>
            </p:column>
        </p:dataTable>    
   </p:overlayPanel>
   
   
   <p:overlayPanel widgetVar="chkData" style="width:900px" dismissable="true" showCloseIcon="true" dynamic="true" modal="true">
   		<p:dataTable id="chkId" var="py" value="#{ovBean.chks}">
   		    <p:column headerText="Check No" width="70">
                <h:outputText value="#{py.f1}"/>
            </p:column>     
            <p:column headerText="Date" width="70">
                <h:outputText value="#{py.f2}"/>
            </p:column>
            <p:column title="Pay To" width="150" filterBy="#{py.f4}"  filterMatchMode="contains" sortable="true">
                <h:outputText value="#{py.f4}"/>
            </p:column>
            <p:column headerText="Amount" width="70" style="text-align: right">
                <h:outputText value="#{py.f3}"/>
            </p:column>
            <p:column headerText="Remarks" width="150">
                <h:outputText value="#{py.f5}"/>
            </p:column>
        </p:dataTable>    
   </p:overlayPanel>
   
   <p:overlayPanel widgetVar="budData" style="width:700px" dismissable="true" showCloseIcon="true" dynamic="true" modal="true">
   		<p:outputLabel id="yearBeg" value="Beginning Balance: #{ovBean.yearBeginningBalance} added to January Budget" style="font-size: 2em; font-weight: bold"/>
   		<p:dataTable id="budId" var="py" value="#{ovBean.budRpts}">
   		    <p:column headerText="Month" width="70">
                <h:outputText value="#{py.f1}"/>
            </p:column>   
            <p:column headerText="NTA" width="70">
                <h:outputText value="#{py.f2}"/>
            </p:column>
            <p:column headerText="Loan" width="70">
                <h:outputText value="#{py.f3}"/>
            </p:column>  
            <p:column headerText="Trasfer Fund" width="70">
                <h:outputText value="#{py.f4}"/>
            </p:column>  
            <p:column headerText="Net NTA" width="70">
                <h:outputText value="#{py.f5}"/>
            </p:column>
            <p:column headerText="Deposit" width="70">
                <h:outputText value="#{py.f6}"/>
            </p:column>
            <p:column headerText="Budget" width="90" >
                <h:outputText value="#{py.f7}" style="font-weight: bold; text-size: 2em"/>
            </p:column>
        </p:dataTable>    
   </p:overlayPanel>
    
    <div class="card">
    <div class="grid">
        <div class="col">
            <p:panel header="Transaction Report">
            	 
            	 <p:outputLabel value="Please select year to monitor : "/>
                 <p:selectOneMenu value="#{ovBean.year}" style="width: 20em" disabled="false">
						<f:selectItems value="#{ovBean.years}"/>
						<p:ajax event="change" listener="#{ovBean.reloadTab}" update="issuedCheckId multipleCheckId monthlyCheckId highestissuedCheckId monthlyRCDId monthlyColId monthlyCollectorId dailyCollectorId accId"/>
				 </p:selectOneMenu>
                 
         <p:tabView prependId="false" widgetVar="tabSelection">
            
            <p:ajax event="tabChange" listener="#{ovBean.onTabChange}" update="issuedCheckId multipleCheckId monthlyCheckId highestissuedCheckId monthlyRCDId monthlyColId monthlyCollectorId dailyCollectorId accId bzId cashId"/>
            
            <p:tab title="Running Collections">
            	
            	<p:dataTable id="monthlyColId" rowHover="true" showGridlines="false" var="pk" value="#{ovBean.collections}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar" emptyMessage="No match data found with given criteria">
		            
		            <f:facet name="header">
			            <p:outputPanel>
			                <h:outputText value="Grand Total: #{ovBean.grandTotalRunningCollection}" style="font-weight: bold; font-size: 2em"/>
			            </p:outputPanel>
			        </f:facet>
		            
		            
		            
		            <p:column headerText="Description" filterBy="#{pk.f1}"  filterMatchMode="contains" width="200" style="text-align: left; font-weight: bold">
		                <p:outputLabel value="#{pk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Total" width="100" style="text-align: right; font-weight: bold">
		                <p:commandButton value="#{pk.f14}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f14.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f14,0,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print Summary Report" rendered="#{pk.f14.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(0)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="January" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f2}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f2.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f2,1,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print January Report" rendered="#{pk.f2.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(1)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="February" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f3}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f3.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f3,2,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print February Report" rendered="#{pk.f3.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(2)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="March" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f4}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f4.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f4,3,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print March Report" rendered="#{pk.f4.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(3)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="April" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f5}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f5.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f5,4,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print April Report" rendered="#{pk.f5.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(4)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="May" width="100" style="text-align: right;#{pk.f15}">
		            	<p:commandButton value="#{pk.f6}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f6.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f6,5,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print May Report" rendered="#{pk.f6.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(5)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="June" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f7}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f7.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f7,6,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print June Report" rendered="#{pk.f7.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(6)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="July" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f8}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f8.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f8,7,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print July Report" rendered="#{pk.f8.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(7)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="August" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f9}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f9.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f9,8,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print August Report" rendered="#{pk.f9.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(8)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="September" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f10}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f10.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f10,9,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print September Report" rendered="#{pk.f10.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(9)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="October" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f11}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f11.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f11,10,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print October Report" rendered="#{pk.f11.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(10)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="November" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f12}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f12.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f12,11,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print November Report" rendered="#{pk.f12.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(11)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		            <p:column headerText="December" width="100" style="text-align: right;#{pk.f15}">
		                <p:commandButton value="#{pk.f13}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f13.equalsIgnoreCase('PRINT')? false:true}" update="pyId" actionListener="#{ovBean.loadPayment(pk.f1,pk.f13,12,pk.f16)}" oncomplete="PF('productOP').show('#{component.clientId}')"/>
		                <p:commandLink title="Print December Report" rendered="#{pk.f13.equalsIgnoreCase('PRINT')? true:false}" actionListener="#{ovBean.printCollection(12)}" target="_blank" ajax="false" immediate="false">
            				 <i class="pi pi-file-pdf"/>
						</p:commandLink>
		            </p:column>
		            
		           
		            
		        </p:dataTable>  
            
            </p:tab>
            
            <p:tab title="RCD">
            
            	<p:dataTable id="monthlyRCDId" var="pk" value="#{ovBean.rcds}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            
		            <p:column headerText="Fund" width="200">
		                <p:outputLabel value="#{pk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Description" width="200">
		                <p:outputLabel value="#{pk.f2}" />
		            </p:column>
		            
		            <p:column headerText="Total" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f15}" />
		            </p:column>
		            
		            <p:column headerText="January" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f3}" />
		            </p:column>
		            
		            <p:column headerText="February" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f4}" />
		            </p:column>
		            
		            <p:column headerText="March" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f5}" />
		            </p:column>
		            
		            <p:column headerText="April" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f6}" />
		            </p:column>
		            
		            <p:column headerText="May" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f7}" />
		            </p:column>
		            
		            <p:column headerText="June" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f8}" />
		            </p:column>
		            
		            <p:column headerText="July" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f9}" />
		            </p:column>
		            
		            <p:column headerText="August" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f10}" />
		            </p:column>
		            
		            <p:column headerText="September" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f11}" />
		            </p:column>
		            
		            <p:column headerText="October" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f12}" />
		            </p:column>
		            
		            <p:column headerText="November" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f13}" />
		            </p:column>
		            
		            <p:column headerText="December" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f14}" />
		            </p:column>
		            
		           
		            
		        </p:dataTable>  
            
            </p:tab>
            
            <p:tab title="Recent Issued Check">
             
                <p:dataTable id="issuedCheckId" var="ck" value="#{ovBean.rptRecentChecksIssueds}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            <p:column headerText="Date" width="100" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f1}" />
		            </p:column>
		
		            <p:column headerText="Check No" filterBy="#{ck.f2}"  filterMatchMode="contains" width="70" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f2}" />
		            </p:column>
		
		            <p:column headerText="Payee" filterBy="#{ck.f8}"  filterMatchMode="contains" width="150" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f8}" />
		            </p:column>
		
		            <p:column headerText="Amount" width="70" style="text-align: right;#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f4}" style="font-weight: bold">
		                	<f:convertNumber currencySymbol="" type="currency"/>
		                </p:outputLabel>
		            </p:column>
		            
		            <p:column headerText="Fund" filterBy="#{ck.f5}"  filterMatchMode="contains" width="100" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f5}" />
		            </p:column>
		            
		            <p:column headerText="Office" width="100" filterBy="#{ck.f6}"  filterMatchMode="contains" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f6}" />
		            </p:column>
		            
		            <p:column headerText="MOOE" filterBy="#{ck.f7}"  filterMatchMode="contains" width="100" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f7}" />
		            </p:column>
		            
		            <p:column headerText="Remarks" filterBy="#{ck.f10}"  filterMatchMode="contains" width="100" style="#{ck.f9.equalsIgnoreCase('CANCELLED')? 'color: red' : ''}">
		                <p:outputLabel value="#{ck.f10}" />
		            </p:column>
		        </p:dataTable>
            </p:tab>
            
            <p:tab title="Multiple Payee Check Issued">
            	
            	<p:dataTable id="multipleCheckId" var="kk" value="#{ovBean.rptMultipleCheckIssueds}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            <p:column headerText="Name" width="100" style="font-weight: bold">
		                <p:outputLabel value="#{kk.f3}" />
		            </p:column>
		            
		            <p:column headerText="Date" width="70">
		                <p:outputLabel value="#{kk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Check No" filterBy="#{kk.f2}"  filterMatchMode="contains" width="70">
		                <p:outputLabel value="#{kk.f2}" />
		            </p:column>
		
		            <p:column headerText="Amount" width="70" style="text-align: right">
		                <p:outputLabel value="#{kk.f4}" style="font-weight: bold">
		                	<f:convertNumber currencySymbol="" type="currency"/>
		                </p:outputLabel>
		            </p:column>
		            
		            <p:column headerText="Fund" filterBy="#{kk.f5}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{kk.f5}" />
		            </p:column>
		            
		            <p:column headerText="Office" filterBy="#{kk.f6}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{kk.f6}" />
		            </p:column>
		            
		            <p:column headerText="MOOE" filterBy="#{kk.f7}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{kk.f7}" />
		            </p:column>
		            
		        </p:dataTable>    
            	
            </p:tab>
            
            <p:tab title="Monthly Check Issued">
            	
            	<p:dataTable id="monthlyCheckId" var="pk" value="#{ovBean.rptMonthCheckIssuedsPerAccounts}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            
		            <p:column headerText="Name" width="250" style="font-weight: bold">
		                <p:outputLabel value="#{pk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Alloted Budget" width="150" style="text-align: right;">
		                <p:commandButton value="#{pk.f14}" iconPos="right" style="font-weight: bold; font-size: 1.5em" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f14!='00.00'? true:false}" update="budId yearBeg" actionListener="#{ovBean.loadMonthlyBudget(pk.f1)}" oncomplete="PF('budData').show('#{component.clientId}')"/>
		            </p:column>
		            <p:column headerText="Total Issued" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f15}" />
		            </p:column>
		            <p:column headerText="Cash In Bank" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f16}" />
		            </p:column>
		            
		            <p:column headerText="January" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f2}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f2!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,1)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="February" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f3}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f3!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,2)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="March" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f4}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f4!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,3)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="April" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f5}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f5!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,4)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="May" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f6}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f6!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,5)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="June" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f7}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f7!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,6)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="July" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f8}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f8!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,7)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="August" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f9}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f9!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,8)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="September" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f10}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f10!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,9)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="October" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f11}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f11!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,10)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="November" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f12}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f12!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,11)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="December" width="100" style="text-align: right">
		                <p:commandButton value="#{pk.f13}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" rendered="#{pk.f13!=''? true:false}" update="chkId" actionListener="#{ovBean.loadCheckIssued(pk.f1,12)}" oncomplete="PF('chkData').show('#{component.clientId}')"/>
		            </p:column>
		            
		            
		            
		           
		            
		        </p:dataTable>  
            	
            </p:tab>
            
            <p:tab title="Highest Issued Check">
            
            	<p:dataTable id="highestissuedCheckId" var="ck" value="#{ovBean.rptHighestIssuedChecks}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            <p:column headerText="Date" width="100">
		                <p:outputLabel value="#{ck.f1}" />
		            </p:column>
		
		            <p:column headerText="Check No" filterBy="#{ck.f2}"  filterMatchMode="contains" width="70">
		                <p:outputLabel value="#{ck.f2}" />
		            </p:column>
		
		            <p:column headerText="Payee" filterBy="#{ck.f3}"  filterMatchMode="contains" width="150">
		                <p:outputLabel value="#{ck.f3}" />
		            </p:column>
		
		            <p:column headerText="Amount" width="70" style="text-align: right">
		                <p:outputLabel value="#{ck.f4}" style="font-weight: bold">
		                	<f:convertNumber currencySymbol="" type="currency"/>
		                </p:outputLabel>
		            </p:column>
		            
		            <p:column headerText="Fund" filterBy="#{ck.f5}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{ck.f5}" />
		            </p:column>
		            
		            <p:column headerText="Office" filterBy="#{ck.f6}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{ck.f6}" />
		            </p:column>
		            
		            <p:column headerText="MOOE" filterBy="#{ck.f7}"  filterMatchMode="contains" width="100">
		                <p:outputLabel value="#{ck.f7}" />
		            </p:column>
		        </p:dataTable>
            
            </p:tab>
            
            
            <p:tab title="Monthly Collector Collection">
            	<p:dataTable id="monthlyCollectorId" var="pk" value="#{ovBean.collectors}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            
		            <p:column headerText="Collector" width="150" style="font-weight: bold">
		                <p:outputLabel value="#{pk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Department/Barangay" width="110" style="text-align: right">
		                <p:outputLabel value="#{pk.f15}" />
		            </p:column>
		            
		            <p:column headerText="Form" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f2}" />
		            </p:column>
		            
		            <p:column headerText="January" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f3}" />
		            </p:column>
		            
		            <p:column headerText="February" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f4}" />
		            </p:column>
		            
		            <p:column headerText="March" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f5}" />
		            </p:column>
		            
		            <p:column headerText="April" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f6}" />
		            </p:column>
		            
		            <p:column headerText="May" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f7}" />
		            </p:column>
		            
		            <p:column headerText="June" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f8}" />
		            </p:column>
		            
		            <p:column headerText="July" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f9}" />
		            </p:column>
		            
		            <p:column headerText="August" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f10}" />
		            </p:column>
		            
		            <p:column headerText="September" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f11}" />
		            </p:column>
		            
		            <p:column headerText="October" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f12}" />
		            </p:column>
		            
		            <p:column headerText="November" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f13}" />
		            </p:column>
		            
		            <p:column headerText="December" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f14}" />
		            </p:column>
		             
		        </p:dataTable>  
            </p:tab>
            
            <p:tab title="Reported TO LO (Today)">
            	
            	<p:dataTable id="dailyCollectorId" var="pk" value="#{ovBean.todaysCollections}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            
		            <p:column headerText="Collector" width="150" style="font-weight: bold">
		                <p:outputLabel value="#{pk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Department/Barangay" width="110" style="text-align: right">
		                <p:outputLabel value="#{pk.f15}" />
		            </p:column>
		            
		            <p:column headerText="Form" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f2}" />
		            </p:column>
		            
		            <p:column headerText="Amount" width="100" style="text-align: right">
		                <p:outputLabel value="#{pk.f3}" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		            
		            <p:column headerText="" width="100" style="text-align: right">
		                <p:outputLabel value="" />
		            </p:column>
		             
		        </p:dataTable> 
            	
            </p:tab>
            
            <p:tab title="Accountable Form Status">
            	
            	<p:dataTable id="accId" var="sk" value="#{ovBean.accountableForms}" lazy="false" stickyHeader="true" stickyTopAt=".layout-topbar">
		            
		            <p:column headerText="Collector" width="150" filterBy="#{sk.f1}"  filterMatchMode="contains" style="font-weight: bold">
		                <p:outputLabel value="#{sk.f1}" />
		            </p:column>
		            
		            <p:column headerText="Form" width="70">
		                <p:outputLabel value="#{sk.f2}" />
		            </p:column>
		            
		            <p:column headerText="Issued" width="70">
		                <p:outputLabel value="#{sk.f3}" />
		            </p:column>
		            
		            <p:column headerText="Days(red alert on above 50 days)" width="200" style="#{sk.f13}">
		            	<p:progressBar value="#{sk.f7}" labelTemplate="{value}" displayOnly="true"/>
		            </p:column>
		            
		            <p:column headerText="Series" width="100" filterBy="#{sk.f4}"  filterMatchMode="contains">
		                <p:commandButton value="#{sk.f4}" icon="pi pi-plus" styleClass="ui-button-flat ui-button-plain" update="serId" actionListener="#{ovBean.seriesTransactionHistory(sk)}" oncomplete="PF('dlgSeriesHis').show('#{component.clientId}')"/>
		            </p:column>
		            
		            <p:column headerText="Received" width="70">
		                <p:outputLabel value="#{sk.f5}" />
		            </p:column>
		            
		            <p:column headerText="Issued" width="70">
		                <p:outputLabel value="#{sk.f11}" />
		            </p:column>
		            
		            <p:column headerText="Remaining" width="70">
		                <p:outputLabel value="#{sk.f12}"/>
		            </p:column>
		            
		            <p:column headerText="Fund" width="70">
		                <p:outputLabel value="#{sk.f6}" />
		            </p:column>
		             
		        </p:dataTable> 
            	
            </p:tab>
            
            <p:tab title="List Of No Business Renewal">
            	<p:dataTable id="bzId" value="#{ovBean.bzs}" var="bz" stickyHeader="false"
							rows="100" paginator="true" paginatorTemplate="{Exporters} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15,20,50,100"
                         scrollable="false" lazy="false"
                         paginatorPosition="top" paginatorAlwaysVisible="false"
                         >
                         	
                         	<f:facet name="{Exporters}">
                         			
            						<h:commandLink title="Export Business in excel format">
                						    <i class="pi pi-file-excel" style="font-size: 2rem;float: left"></i>
                							<p:dataExporter type="xls" target="bzId" fileName="Business" options="#{exporter.excelOpt}"/>
            						</h:commandLink>
            						<p:commandLink title="Export Business in pdf format">
                						    <i class="pi pi-file-pdf" style="font-size: 2rem;float: left"></i>
                						    <p:dataExporter type="xls" target="bzId" fileName="Business" options="#{exporter.excelOpt}"/>
            						</p:commandLink>
            				</f:facet>
                         	
                         	<p:column headerText="Plate No" width="50" filterBy="#{bz.plateNo}"  filterMatchMode="contains" sortable="false">
            						<p:outputLabel  value="#{bz.plateNo}"/>
            				</p:column>
                         	
            				<p:column headerText="Business Name" filterBy="#{bz.businessName}"  filterMatchMode="contains" width="200" sortable="false">
            						<p:outputLabel  value="#{bz.businessName}"/>
            				</p:column>
            				
            				<p:column headerText="Owner" filterBy="#{bz.customer.fullname}"  filterMatchMode="contains" width="100" sortable="false">
            						<p:outputLabel  value="#{bz.customer.fullname}"/>
            				</p:column>
            				
            				<p:column headerText="Memo" filterBy="#{bz.memoType}"  filterMatchMode="contains" width="100" sortable="false">
            						<p:outputLabel  value="#{bz.memoType}"/>
            				</p:column>
            				
            				<p:column headerText="Line of Business" filterBy="#{bz.businessEngage}"  filterMatchMode="contains" width="100" sortable="false">
            						<p:outputLabel  value="#{bz.businessEngage}"/>
            				</p:column>
            				
            				<p:column headerText="Address" width="200" filterBy="#{bz.businessAddress}"  filterMatchMode="contains" sortable="false">
            						<p:outputLabel  value="#{bz.businessAddress}"/>
            				</p:column>
            				
     					</p:dataTable>
            </p:tab>
            
            <p:tab title="Cash Book">
            	
            	<p:selectOneMenu value="#{ovBean.cashBankAccountsId}" style="width:10em" filter="true" filterMatchMode="contains">
						                	<f:selectItems value="#{ovBean.cashBankAccounts}"/>
						                	<p:ajax event="change" listener="#{ovBean.loadCashBook}" update="cashId"/>
						            </p:selectOneMenu>
            	
            	<p:dataTable id="cashId" value="#{ovBean.cashbooks}" var="cz" stickyHeader="false"
							rows="100" paginator="true" paginatorTemplate="{Exporters} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15,20,50,100"
                         scrollable="false" lazy="false"
                         paginatorPosition="top" paginatorAlwaysVisible="true"
                         >
                         	
                         	<f:facet name="{Exporters}">
                         			
                         			
                         			
                         			
            						<h:commandLink title="Export Cashbook in excel format">
                						    <i class="pi pi-file-excel" style="font-size: 2rem;float: left"></i>
                							<p:dataExporter type="xls" target="cashId" fileName="Cashbook" options="#{exporter.excelOpt}"/>
            						</h:commandLink>
            						<p:commandLink title="Export Cashbook in pdf format">
                						    <i class="pi pi-file-pdf" style="font-size: 2rem;float: left"></i>
                						    <p:dataExporter type="xls" target="cashId" fileName="Cashbook" options="#{exporter.excelOpt}"/>
            						</p:commandLink>
            				</f:facet>
                         	
                         	<p:column headerText="Date" width="50">
            						<p:outputLabel  value="#{cz.f1}"/>
            				</p:column>
                         	
            				<p:column headerText="Particulars" width="100">
            						<p:outputLabel  value="#{cz.f2}"/>
            				</p:column>
            				
            				<p:column headerText="Debit" width="100">
            						<p:outputLabel  value="#{cz.f3}"/>
            				</p:column>
            				
            				<p:column headerText="Credit" width="100">
            						<p:outputLabel  value="#{cz.f4}"/>
            				</p:column>
            				
            				<p:column headerText="Balance" width="100">
            						<p:outputLabel  value="#{cz.f5}"/>
            				</p:column>
            				
     					</p:dataTable>
            	
            
            </p:tab>
            
        </p:tabView>
                 
                 	
            </p:panel>
        </div>
        
    </div>
	</div>
     
     <p:overlayPanel widgetVar="dlgSeriesHis" style="width:1100px" dismissable="false" showCloseIcon="true" dynamic="true" modal="true">
     	
     	<p:dataTable id="serId" var="ss" value="#{ovBean.seriesHisDtls}" lazy="false" stickyHeader="false" stickyTopAt=".layout-topbar" scrollable="true" scrollHeight="250">
		            
		            <p:column headerText="Date" width="70">
		                <p:outputLabel value="#{ss.f1}" />
		            </p:column>
		            
		            <p:column headerText="Series" width="100">
		                <p:outputLabel value="#{ss.f5}"/>
		            </p:column>
		            
		            <p:column headerText="Qty" width="20">
		                <p:outputLabel value="#{ss.f6}" />
		            </p:column>
		            
		            <p:column headerText="Status" width="70">
		                <p:outputLabel value="#{ss.f7}" />
		            </p:column>
		            
		            <p:column headerText="Amount" width="70">
		                <p:outputLabel value="#{ss.f8}" />
		            </p:column>
		           
		           <p:column headerText="Rpt#" width="20">
		                <p:outputLabel value="#{ss.f9}" />
		            </p:column>
		             
		             
		            <f:facet name="footer">
			            <span class="p-text-bold" style="font-size: 2em">Total Remaining Quantity: #{ovBean.remainingQty}</span>
			        </f:facet> 
		        </p:dataTable> 
     	
     </p:overlayPanel>
     
     <script>
     	
     
     
     </script>
     <ui:include src="menu.xhtml" /> 
     <ui:include src="loader.xhtml" />
    </h:form>    
    </h:body>
</html>